mapper.p:30,14:47:40:_log:1998:IaYyvg -- (Files|files) _configure_property(owner, RelationshipProperty)
mapper.p:30,14:47:40:_log:1998:IaYyvg -- (Files|files) _configure_property(dates, RelationshipProperty)
mapper.p:30,14:47:40:_log:1998:IaYyvg -- (Files|files) _configure_property(name, RelationshipProperty)
mapper.p:30,14:47:40:_log:1998:IaYyvg -- (Files|files) _configure_property(id, Column)
mapper.p:30,14:47:40:_log:1998:IaYyvg -- (Files|files) _configure_property(fileId, Column)
mapper.p:30,14:47:40:_log:1998:IaYyvg -- (Files|files) _configure_property(lastModDate, Column)
mapper.p:30,14:47:40:_log:1998:IaYyvg -- (Files|files) _configure_property(parent_id, Column)
mapper.p:30,14:47:40:_log:1998:IaYyvg -- (Files|files) _configure_property(isFile, Column)
mapper.p:30,14:47:40:_log:1998:IaYyvg -- (Files|files) Identified primary key columns: ColumnSet([Column('id', Integer(), table=<files>, primary_key=True, nullable=False)])
mapper.p:30,14:47:40:_log:1998:IaYyvg -- (Files|files) constructed
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Owner|owner) _configure_property(files, RelationshipProperty)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Owner|owner) _configure_property(id, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Owner|owner) _configure_property(name, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Owner|owner) Identified primary key columns: ColumnSet([Column('id', Integer(), table=<owner>, primary_key=True, nullable=False)])
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Owner|owner) constructed
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Dates|dates) _configure_property(files, RelationshipProperty)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Dates|dates) _configure_property(id, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Dates|dates) _configure_property(fileId, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Dates|dates) _configure_property(date, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Dates|dates) _configure_property(adds, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Dates|dates) _configure_property(deletes, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Dates|dates) _configure_property(bin_width, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Dates|dates) Identified primary key columns: ColumnSet([Column('id', Integer(), table=<dates>, primary_key=True, nullable=False)])
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Dates|dates) constructed
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Closure|closure) _configure_property(files_relationship, RelationshipProperty)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Closure|closure) _configure_property(parent_relationship, RelationshipProperty)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Closure|closure) _configure_property(owner, RelationshipProperty)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Closure|closure) _configure_property(id, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Closure|closure) _configure_property(parent, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Closure|closure) _configure_property(child, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Closure|closure) _configure_property(owner_id, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Closure|closure) _configure_property(depth, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Closure|closure) Identified primary key columns: ColumnSet([Column('id', Integer(), table=<closure>, primary_key=True, nullable=False)])
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Closure|closure) constructed
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Filename|filename) _configure_property(files, RelationshipProperty)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Filename|filename) _configure_property(owner, RelationshipProperty)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Filename|filename) _configure_property(id, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Filename|filename) _configure_property(fileId, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Filename|filename) _configure_property(fileName, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Filename|filename) _configure_property(owner_id, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Filename|filename) Identified primary key columns: ColumnSet([Column('id', Integer(), table=<filename>, primary_key=True, nullable=False)])
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Filename|filename) constructed
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Tasks|tasks) _configure_property(id, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Tasks|tasks) _configure_property(path, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Tasks|tasks) _configure_property(creds, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Tasks|tasks) _configure_property(fileid, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Tasks|tasks) _configure_property(userid, Column)
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Tasks|tasks) Identified primary key columns: ColumnSet([Column('id', Integer(), table=<tasks>, primary_key=True, nullable=False)])
mapper.p:30,14:47:41:_log:1998:IaYyvg -- (Tasks|tasks) constructed
base.py:30,14:47:41:__connect:653:IaYyvg -- Created new connection <sqlite3.Connection object at 0x7f36f9734b70>
base.py:30,14:47:41:_cursor_execute:1311:IaYyvg -- SELECT CAST('test plain returns' AS VARCHAR(60)) AS anon_1
base.py:30,14:47:41:_cursor_execute:1312:IaYyvg -- ()
base.py:30,14:47:41:_cursor_execute:1311:IaYyvg -- SELECT CAST('test unicode returns' AS VARCHAR(60)) AS anon_1
base.py:30,14:47:41:_cursor_execute:1312:IaYyvg -- ()
base.py:30,14:47:41:checkout:507:IaYyvg -- Connection <sqlite3.Connection object at 0x7f36f9734b70> checked out from pool
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA main.table_info("files")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA temp.table_info("files")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA main.table_info("owner")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA temp.table_info("owner")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA main.table_info("dates")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA temp.table_info("dates")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA main.table_info("closure")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA temp.table_info("closure")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA main.table_info("filename")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA temp.table_info("filename")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA main.table_info("tasks")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- PRAGMA temp.table_info("tasks")
base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
result.p:30,14:47:41:_init_metadata:809:IaYyvg -- Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- 
CREATE TABLE owner (
	id INTEGER NOT NULL, 
	name VARCHAR(50), 
	PRIMARY KEY (id), 
	UNIQUE (id), 
	UNIQUE (name)
)


base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
base.py:30,14:47:41:_commit_impl:753:IaYyvg -- COMMIT
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- 
CREATE TABLE tasks (
	id INTEGER NOT NULL, 
	path VARCHAR(600), 
	creds BLOB, 
	fileid VARCHAR(600), 
	userid VARCHAR(600), 
	PRIMARY KEY (id)
)


base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
base.py:30,14:47:41:_commit_impl:753:IaYyvg -- COMMIT
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- 
CREATE TABLE files (
	id INTEGER NOT NULL, 
	"fileId" VARCHAR(300), 
	"lastModDate" DATETIME, 
	parent_id INTEGER, 
	"isFile" BOOLEAN, 
	PRIMARY KEY (id), 
	UNIQUE (id), 
	UNIQUE ("fileId"), 
	FOREIGN KEY(parent_id) REFERENCES owner (id), 
	CHECK ("isFile" IN (0, 1))
)


base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
base.py:30,14:47:41:_commit_impl:753:IaYyvg -- COMMIT
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- 
CREATE TABLE dates (
	id INTEGER NOT NULL, 
	"fileId" INTEGER, 
	date FLOAT, 
	adds INTEGER, 
	deletes INTEGER, 
	bin_width FLOAT, 
	CONSTRAINT dates_pk PRIMARY KEY (id), 
	FOREIGN KEY("fileId") REFERENCES files (id)
)


base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
base.py:30,14:47:41:_commit_impl:753:IaYyvg -- COMMIT
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- 
CREATE TABLE closure (
	id INTEGER NOT NULL, 
	parent INTEGER, 
	child INTEGER, 
	owner_id INTEGER, 
	depth INTEGER, 
	CONSTRAINT closure_pk PRIMARY KEY (id), 
	FOREIGN KEY(parent) REFERENCES files (id), 
	FOREIGN KEY(child) REFERENCES files (id), 
	FOREIGN KEY(owner_id) REFERENCES owner (id)
)


base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
base.py:30,14:47:41:_commit_impl:753:IaYyvg -- COMMIT
base.py:30,14:47:41:_execute_context:1205:IaYyvg -- 
CREATE TABLE filename (
	id INTEGER NOT NULL, 
	"fileId" INTEGER, 
	"fileName" VARCHAR(600), 
	owner_id INTEGER, 
	CONSTRAINT filename_pk PRIMARY KEY (id), 
	FOREIGN KEY("fileId") REFERENCES files (id), 
	FOREIGN KEY(owner_id) REFERENCES owner (id)
)


base.py:30,14:47:41:_execute_context:1207:IaYyvg -- ()
base.py:30,14:47:41:_commit_impl:753:IaYyvg -- COMMIT
base.py:30,14:47:41:_finalize_fairy:684:IaYyvg -- Connection <sqlite3.Connection object at 0x7f36f9734b70> being returned to pool
base.py:30,14:47:41:_reset:872:IaYyvg -- Connection <sqlite3.Connection object at 0x7f36f9734b70> rollback-on-return
base.py:30,14:47:41:_close_connection:267:IaYyvg -- Closing connection <sqlite3.Connection object at 0x7f36f9734b70>
base.py:30,14:47:41:__connect:653:IaYyvg -- Created new connection <sqlite3.Connection object at 0x7f36f9734b70>
base.py:30,14:47:41:checkout:507:IaYyvg -- Connection <sqlite3.Connection object at 0x7f36f9734b70> checked out from pool
sql_serv:30,14:47:41:<module>:193:IaYyvg -- STARTING SQL SERVER
selector:30,14:47:41:__init__:59:IaYyvg -- Using selector: EpollSelector
sql_serv:30,14:47:41:report:20:IaYyvg -- SQL Queue size: 0, thread size: 0
sql_serv:30,14:47:41:handle_request:63:IaYyvg -- handle_request
base_eve:30,14:47:41:create_server:1490:IaYyvg -- <Server sockets=(<asyncio.TransportSocket fd=11, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8888)>,)> is serving
sql_serv:30,14:47:41:handle_request:113:IaYyvg -- Serving on ('0.0.0.0', 8888)
sql_serv:30,14:47:41:send_socket:38:IaYyvg -- connect working
base_eve:30,14:47:41:_run_once:1854:IaYyvg -- Executing <Task pending name='Task-3' coro=<send_socket() running at /home/henry/pydocs/processing/sql_server.py:39> wait_for=<Future pending cb=[BaseSelectorEventLoop._sock_write_done(12)(), <TaskWakeupMethWrapper object at 0x7f36f283c400>()] created at /usr/lib/python3.8/asyncio/base_events.py:422> created at /usr/lib/python3.8/asyncio/tasks.py:382> took 0.192 seconds
selector:30,14:47:41:_accept_connection:164:IaYyvg -- <Server sockets=(<asyncio.TransportSocket fd=11, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8888)>,)> got a new connection from ('127.0.0.1', 50786): <socket.socket fd=13, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 8888), raddr=('127.0.0.1', 50786)>
sql_serv:30,14:47:41:req_callback:74:IaYyvg -- request received
base_eve:30,14:47:41:create_connection:1057:IaYyvg -- <asyncio.TransportSocket fd=12, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('127.0.0.1', 50786), raddr=('127.0.0.1', 8888)> connected to 127.0.0.1:8888: (<_SelectorSocketTransport fd=12 read=polling write=<idle, bufsize=0>>, <asyncio.streams.StreamReaderProtocol object at 0x7f36f283c2e0>)
test_uti:30,14:47:41:adv_write:330:IaYyvg -- length of write: 7
test_uti:30,14:47:41:adv_write:334:IaYyvg -- b'\x00\x00\x00\x00\x00\x00\x00\x07\x00'
sql_serv:30,14:47:41:req_callback:83:IaYyvg -- queue size: 0
test_uti:30,14:47:41:adv_write:330:IaYyvg -- length of write: 2
test_uti:30,14:47:41:adv_write:334:IaYyvg -- b'\x00\x00\x00\x00\x00\x00\x00\x02\x00'
sql_serv:30,14:47:41:send_socket:47:IaYyvg -- received: b'go'
test_uti:30,14:47:41:adv_write:330:IaYyvg -- length of write: 15208
test_uti:30,14:47:41:adv_write:334:IaYyvg -- b'\x00\x00\x00\x00\x00\x00;h\x01'
sql_serv:30,14:47:41:req_callback:101:IaYyvg -- Put new task in queue
selector:30,14:47:41:_read_ready__on_eof:869:IaYyvg -- <_SelectorSocketTransport fd=13 read=polling write=<idle, bufsize=0>> received EOF
sql.py:30,14:47:41:start:142:IaYyvg -- Starting sql for userid 527e4afc-4598-400f-8536-afa5324f0ba4
configlo:30,14:47:43:handle_exception:84:IaYyvg -- Custom Uncaught exception
Traceback (most recent call last):
  File "/usr/lib/python3.8/runpy.py", line 193, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/usr/lib/python3.8/runpy.py", line 86, in _run_code
    exec(code, run_globals)
  File "/home/henry/pydocs/processing/sql_server.py", line 194, in <module>
    thread_pool()
  File "/home/henry/pydocs/processing/sql_server.py", line 172, in thread_pool
    ds = concurrent.futures.wait(exec_tasks, return_when = concurrent.futures.FIRST_EXCEPTION)
  File "/usr/lib/python3.8/concurrent/futures/_base.py", line 305, in wait
    waiter.event.wait(timeout)
  File "/usr/lib/python3.8/threading.py", line 558, in wait
    signaled = self._cond.wait(timeout)
  File "/usr/lib/python3.8/threading.py", line 302, in wait
    waiter.acquire()
KeyboardInterrupt
configlo:30,14:47:43:mp_sendmail:118:IaYyvg -- sending mail

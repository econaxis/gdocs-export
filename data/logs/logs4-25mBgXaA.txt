sql.py:25,14:15:42:<module>:24:mBgXaA -- Driver%3D%7BODBC+Driver+17+for+SQL+Server%7D%3BServer%3Dtcp%3Apydoc-db.database.windows.net%2C1433%3BDatabase%3Dpydoc-db%3BUid%3Dhenry2833%3BPwd%3D%7BInfoip32%7D%3BEncrypt%3Dyes%3BTrustServerCertificate%3Dno%3BConnection+Timeout%3D30%3B
dsds.py:25,14:15:46:start:18:mBgXaA -- start
get_file:25,14:15:46:loadFiles:267:mBgXaA -- Start loadFiles, 527e4afc-4598-400f-8536-afa5324f0ba4 1ytJocI9f4gvmpnwLNNfpQzRPhcFs5EzR
requests:25,14:15:46:__call__:117:mBgXaA -- Making request: POST https://oauth2.googleapis.com/token
connecti:25,14:15:46:_new_conn:817:mBgXaA -- Starting new HTTPS connection (1): oauth2.googleapis.com
connecti:25,14:15:46:_make_request:393:mBgXaA -- https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
selector:25,14:15:46:__init__:59:mBgXaA -- Using selector: EpollSelector
test_uti:25,14:15:46:print_size:82:mBgXaA -- ---------------Memory usage: 100864 (kb)---------------0 mins since start
test_uti:25,14:15:47:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
0/0 at 2020-04-25 14:15:47.018615
dumped: 0
get_file:25,14:15:47:getIdsRecursive:53:mBgXaA -- getIdsRecursive looping
get_file:25,14:15:47:getIdsRecursive:53:mBgXaA -- getIdsRecursive looping
test_uti:25,14:15:47:tryGetQueue:229:mBgXaA -- getIdswaiting 1 1
get_file:25,14:15:47:getIdsRecursive:53:mBgXaA -- getIdsRecursive looping
get_file:25,14:15:47:getIdsRecursive:53:mBgXaA -- getIdsRecursive looping
test_uti:25,14:15:47:tryGetQueue:229:mBgXaA -- getIdswaiting 1 1
test_uti:25,14:15:47:tryGetQueue:229:mBgXaA -- getIdswaiting 1 1
test_uti:25,14:15:48:print_size:82:mBgXaA -- ---------------Memory usage: 100980 (kb)---------------0 mins since start
test_uti:25,14:15:48:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
0/3 at 2020-04-25 14:15:48.057801
dumped: 0
get_file:25,14:15:48:getRevision:164:mBgXaA -- getRevision looping
gdoc.py:25,14:15:48:async_init:24:mBgXaA -- async init called
test_uti:25,14:15:49:print_size:82:mBgXaA -- ---------------Memory usage: 100980 (kb)---------------0 mins since start
test_uti:25,14:15:49:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
0/2 at 2020-04-25 14:15:49.099609
dumped: 0
get_file:25,14:15:49:getRevision:164:mBgXaA -- getRevision looping
gdoc.py:25,14:15:49:async_init:24:mBgXaA -- async init called
gdoc.py:25,14:15:49:get_last_revision:54:mBgXaA -- last revision id 546
gdoc.py:25,14:15:49:async_init:31:mBgXaA -- after await 546
test_uti:25,14:15:50:print_size:82:mBgXaA -- ---------------Memory usage: 101216 (kb)---------------0 mins since start
test_uti:25,14:15:50:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
0/1 at 2020-04-25 14:15:50.130009
dumped: 0
get_file:25,14:15:50:getRevision:188:mBgXaA -- google doc
get_file:25,14:15:50:getRevision:164:mBgXaA -- getRevision looping
get_file:25,14:15:50:getRevision:164:mBgXaA -- getRevision looping
gdoc.py:25,14:15:50:get_last_revision:54:mBgXaA -- last revision id 2502
gdoc.py:25,14:15:50:async_init:31:mBgXaA -- after await 2502
test_uti:25,14:15:51:print_size:82:mBgXaA -- ---------------Memory usage: 102792 (kb)---------------0 mins since start
test_uti:25,14:15:51:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
1/2 at 2020-04-25 14:15:51.163511
dumped: 0
get_file:25,14:15:51:getRevision:188:mBgXaA -- google doc
get_file:25,14:15:51:getRevision:164:mBgXaA -- getRevision looping
test_uti:25,14:15:52:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:15:52:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
2/3 at 2020-04-25 14:15:52.198735
dumped: 0
gdoc.py:25,14:15:52:async_init:24:mBgXaA -- async init called
test_uti:25,14:15:52:tryGetQueue:229:mBgXaA -- getRevisionwaiting 1 1
test_uti:25,14:15:52:tryGetQueue:229:mBgXaA -- getRevisionwaiting 1 1
test_uti:25,14:15:53:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:15:53:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
2/2 at 2020-04-25 14:15:53.228569
dumped: 0
get_file:25,14:15:53:getIdsRecursive:66:mBgXaA -- getId task exiting
gdoc.py:25,14:15:53:get_last_revision:54:mBgXaA -- last revision id 647
gdoc.py:25,14:15:53:async_init:31:mBgXaA -- after await 647
get_file:25,14:15:54:getRevision:188:mBgXaA -- google doc
get_file:25,14:15:54:getRevision:164:mBgXaA -- getRevision looping
test_uti:25,14:15:54:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:15:54:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:15:54.261300
dumped: 0
test_uti:25,14:15:55:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:15:55:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:15:55.292195
dumped: 0
test_uti:25,14:15:56:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:15:56:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:15:56.320740
dumped: 0
test_uti:25,14:15:57:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:15:57:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:15:57.350813
dumped: 0
test_uti:25,14:15:58:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:15:58:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:15:58.379841
dumped: 0
get_file:25,14:15:58:getIdsRecursive:66:mBgXaA -- getId task exiting
test_uti:25,14:15:58:tryGetQueue:229:mBgXaA -- getRevisionwaiting 1 1
test_uti:25,14:15:59:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:15:59:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:15:59.408616
dumped: 0
test_uti:25,14:16:00:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:16:00:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:16:00.439380
dumped: 0
get_file:25,14:16:00:getRevision:164:mBgXaA -- getRevision looping
test_uti:25,14:16:00:tryGetQueue:229:mBgXaA -- getRevisionwaiting 1 1
get_file:25,14:16:00:getIdsRecursive:66:mBgXaA -- getId task exiting
get_file:25,14:16:01:getRevision:164:mBgXaA -- getRevision looping
test_uti:25,14:16:01:tryGetQueue:229:mBgXaA -- getRevisionwaiting 1 1
test_uti:25,14:16:01:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:16:01:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:16:01.469752
dumped: 0
get_file:25,14:16:02:getRevision:164:mBgXaA -- getRevision looping
get_file:25,14:16:02:getRevision:164:mBgXaA -- getRevision looping
test_uti:25,14:16:02:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:16:02:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:16:02.507313
dumped: 0
get_file:25,14:16:03:getRevision:169:mBgXaA -- getRevision task exiting
get_file:25,14:16:03:getRevision:194:mBgXaA -- getRevision task has ended, waiting for 3 seconds for all other tasks to finish
test_uti:25,14:16:03:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:16:03:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:16:03.561675
dumped: 0
test_uti:25,14:16:04:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:16:04:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:16:04.597404
dumped: 0
test_uti:25,14:16:04:tryGetQueue:229:mBgXaA -- getRevisionwaiting 1 1
test_uti:25,14:16:04:tryGetQueue:229:mBgXaA -- getRevisionwaiting 1 1
test_uti:25,14:16:05:print_size:82:mBgXaA -- ---------------Memory usage: 107856 (kb)---------------0 mins since start
test_uti:25,14:16:05:print_size:100:mBgXaA -- /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
3/3 at 2020-04-25 14:16:05.632454
dumped: 0
get_file:25,14:16:06:getRevision:197:mBgXaA -- Close event has been set. Expect print task to finish soon
get_file:25,14:16:07:getRevision:194:mBgXaA -- getRevision task has ended, waiting for 3 seconds for all other tasks to finish
get_file:25,14:16:07:getRevision:169:mBgXaA -- getRevision task exiting
get_file:25,14:16:07:getRevision:194:mBgXaA -- getRevision task has ended, waiting for 3 seconds for all other tasks to finish
get_file:25,14:16:09:getRevision:169:mBgXaA -- getRevision task exiting
get_file:25,14:16:09:getRevision:194:mBgXaA -- getRevision task has ended, waiting for 3 seconds for all other tasks to finish
get_file:25,14:16:10:getRevision:197:mBgXaA -- Close event has been set. Expect print task to finish soon
get_file:25,14:16:10:getRevision:197:mBgXaA -- Close event has been set. Expect print task to finish soon
get_file:25,14:16:11:getRevision:169:mBgXaA -- getRevision task exiting
get_file:25,14:16:11:getRevision:194:mBgXaA -- getRevision task has ended, waiting for 3 seconds for all other tasks to finish
get_file:25,14:16:12:getRevision:194:mBgXaA -- getRevision task has ended, waiting for 3 seconds for all other tasks to finish
get_file:25,14:16:12:getRevision:169:mBgXaA -- getRevision task exiting
get_file:25,14:16:12:getRevision:194:mBgXaA -- getRevision task has ended, waiting for 3 seconds for all other tasks to finish
get_file:25,14:16:12:getRevision:197:mBgXaA -- Close event has been set. Expect print task to finish soon
get_file:25,14:16:13:getRevision:194:mBgXaA -- getRevision task has ended, waiting for 3 seconds for all other tasks to finish
get_file:25,14:16:13:getRevision:169:mBgXaA -- getRevision task exiting
get_file:25,14:16:13:getRevision:194:mBgXaA -- getRevision task has ended, waiting for 3 seconds for all other tasks to finish
get_file:25,14:16:14:getRevision:197:mBgXaA -- Close event has been set. Expect print task to finish soon
get_file:25,14:16:15:getRevision:197:mBgXaA -- Close event has been set. Expect print task to finish soon
get_file:25,14:16:15:getRevision:197:mBgXaA -- Close event has been set. Expect print task to finish soon
get_file:25,14:16:16:getRevision:197:mBgXaA -- Close event has been set. Expect print task to finish soon
get_file:25,14:16:16:getRevision:197:mBgXaA -- Close event has been set. Expect print task to finish soon
get_file:25,14:16:21:getRevision:169:mBgXaA -- getRevision task exiting
get_file:25,14:16:21:getRevision:194:mBgXaA -- getRevision task has ended, waiting for 3 seconds for all other tasks to finish
get_file:25,14:16:24:getRevision:197:mBgXaA -- Close event has been set. Expect print task to finish soon
get_file:25,14:16:24:start:232:mBgXaA -- await gather revisions done
get_file:25,14:16:24:start:239:mBgXaA -- cancelled throttler
get_file:25,14:16:24:loadFiles:294:mBgXaA -- loop done
test_uti:25,14:16:24:dump_files:137:mBgXaA -- histed files at /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/1.pathed, length 3
get_file:25,14:16:24:loadFiles:311:mBgXaA -- dumped pickle files
sql.py:25,14:16:24:start:111:mBgXaA -- STARTING SQL 527e4afc-4598-400f-8536-afa5324f0ba4 /home/henry/pydocs/data/527e4afc-4598-400f-8536-afa5324f0ba4/
sql.py:25,14:16:24:start:113:mBgXaA -- setting sys except hook
sql.py:25,14:16:24:start:123:mBgXaA -- Owner name: 527e4afc-4598-404 25 AprY2qxDksKRw
sql.py:25,14:16:25:start:127:mBgXaA -- Added owner row, name: 527e4afc-4598-404 25 AprY2qxDksKRw id: 1
sql.py:25,14:16:25:start:139:mBgXaA -- Finished loading pickles
sql.py:25,14:16:25:start:155:mBgXaA -- File: 1NpTHMCkLa6lHL9Ok8a9hejyXihpujcQpVgSa7JNBP6s
sql.py:25,14:16:25:start:155:mBgXaA -- File: 1JEcM-IFEodRvDg7EE9AntQ4wwOBTRXcDFqRK5SR2I08
sql.py:25,14:16:25:start:155:mBgXaA -- File: 1LcO1aZmE6Jap4GF5ZpBGetjUSFeVBYg__DgWYlDwWY4
sql.py:25,14:16:25:start:172:mBgXaA -- len of id map 3 len of files 3
sql.py:25,14:16:25:start:177:mBgXaA -- starting bulk save
sql.py:25,14:16:25:adder:86:mBgXaA -- flushing adder
configlo:25,14:16:25:handle_exception:81:mBgXaA -- Custom Uncaught exception
Traceback (most recent call last):
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1247, in _execute_context
    self.dialect.do_execute(
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 590, in do_execute
    cursor.execute(statement, parameters)
pyodbc.ProgrammingError: ("A TVP's rows must be Sequence objects.", 'HY000')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "dsds.py", line 37, in <module>
    start()
  File "dsds.py", line 34, in start
    loadFiles(uid, workingPath, fileid, creds)
  File "/home/henry/pydocs/processing/get_files.py", line 317, in loadFiles
    processing.sql.start(USER_ID, _workingPath)
  File "/home/henry/pydocs/processing/sql.py", line 178, in start
    adder(lt_files, sess)
  File "/home/henry/pydocs/processing/sql.py", line 87, in adder
    sess.flush()
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2496, in flush
    self._flush(objects)
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2637, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.raise_(
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 178, in raise_
    raise exception
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2597, in _flush
    flush_context.execute()
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 422, in execute
    rec.execute(self)
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 586, in execute
    persistence.save_obj(
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 239, in save_obj
    _emit_insert_statements(
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1135, in _emit_insert_statements
    result = cached_connections[connection].execute(
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 984, in execute
    return meth(self, multiparams, params)
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 293, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1097, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1287, in _execute_context
    self._handle_dbapi_exception(
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1481, in _handle_dbapi_exception
    util.raise_(
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 178, in raise_
    raise exception
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1247, in _execute_context
    self.dialect.do_execute(
  File "/home/henry/.virtualenvs/pydocs/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 590, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ("A TVP's rows must be Sequence objects.", 'HY000')
[SQL: INSERT INTO files ([fileId], [lastModDate], parent_id, [isFile]) OUTPUT inserted.id VALUES (?, ?, ?, ?)]
[parameters: ('1NpTHMCkLa6lHL9Ok8a9hejyXihpujcQpVgSa7JNBP6s:25-14.505019Y2qxDksKRw', [134, 95, 37, 56, 66, 52, 37, 69], 1, 1)]
(Background on this error at: http://sqlalche.me/e/f405)
